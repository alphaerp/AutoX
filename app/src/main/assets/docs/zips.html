<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>用户界面: UI | Auto.js 文档</title>
    <link rel="stylesheet" href="assets/fonts.css">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/sh.css">
    <link rel="canonical" href="https://nodejs.org/api/ui.html">
</head>

<body class="alt apidoc" id="api-section-ui">
    <div id="content" class="clearfix">
        <div id="column2" class="interior">
            <div id="intro" class="interior">
                <a href="/" title="返回首页">
                    Auto.js
                </a>
            </div>
            <ul>
                <li><a class="nav-documentation" href="documentation.html">关于本文档</a></li>
                <li><a class="nav-http-www-w3school-com-cn-js-pro_js_syntax-asp"
                        href="http://www.w3school.com.cn/js/pro_js_syntax.asp">W3CSchool - ECMAScript教程</a></li>
                <li><a class="nav-http-es6-ruanyifeng-com-README" href="http://es6.ruanyifeng.com/#README">阮一峰 -
                        ECMAScript 6教程</a></li>
            </ul>
            <div class="line"></div>

            <ul>
                <li><a class="nav-overview" href="overview.html">Overview - 综述</a></li>
                <li><a class="nav-qa" href="qa.html">Q&amp;A - 常见问题</a></li>
                <li><a class="nav-app" href="app.html">App - 应用</a></li>
                <li><a class="nav-console" href="console.html">Console - 控制台</a></li>
                <li><a class="nav-coordinates-based-automation"
                        href="coordinates-based-automation.html">CoordinatesBasedAutomation - 基于坐标的操作</a></li>
                <li><a class="nav-device" href="device.html">Device - 设备</a></li>
                <li><a class="nav-dialogs" href="dialogs.html">Dialogs - 对话框</a></li>
                <li><a class="nav-engines" href="engines.html">Engines - 脚本引擎</a></li>
                <li><a class="nav-events" href="events.html">Events - 事件与监听</a></li>
                <li><a class="nav-floaty" href="floaty.html">Floaty - 悬浮窗</a></li>
                <li><a class="nav-files" href="files.html">Files - 文件系统</a></li>
                <li><a class="nav-globals" href="globals.html">Globals - 一般全局函数</a></li>
                <li><a class="nav-http" href="http.html">Http - HTTP</a></li>
                <li><a class="nav-images" href="images.html">Images - 图片与图色处理</a></li>
                <li><a class="nav-keys" href="keys.html">Keys - 按键模拟</a></li>
                <li><a class="nav-media" href="media.html">Media - 多媒体</a></li>
                <li><a class="nav-modules" href="modules.html">Modules - 模块</a></li>
                <li><a class="nav-widgets-based-automation" href="widgets-based-automation.html">WidgetsBasedAutomation
                        - 基于控件的操作</a></li>
                <li><a class="nav-sensors" href="sensors.html">Sensors - 传感器</a></li>
                <li><a class="nav-shell" href="shell.html">Shell - Shell命令</a></li>
                <li><a class="nav-storages" href="storages.html">Storages - 本地存储</a></li>
                <li><a class="nav-threads" href="threads.html">Threads - 多线程</a></li>
                <li><a class="nav-timers" href="timers.html">Timers - 定时器</a></li>
                <li><a class="nav-ui" href="ui.html">UI - 用户界面</a></li>
                <li><a class="nav-AI" href="AI.html">AI - 人工智能</a></li>
                <li><a class="nav-zips active" href="zips.html">Zips - 压缩解压</a></li>
                <li><a class="nav-crypto" href="crypto.html">crypto - 加密解密</a></li>
                <li><a class="nav-base64" href="base64.html">base64 - Base64转换</a></li>
                <li><a class="nav-https-developer-mozilla-org-zh-CN-docs-Mozilla-Projects-Rhino-Scripting_Java"
                        href="https://developer.mozilla.org/zh-CN/docs/Mozilla/Projects/Rhino/Scripting_Java">Work with
                        Java - 调用Java API</a></li>
            </ul>
            <div class="line"></div>

            <ul>
                <li><a class="nav-https-github-com-hyb1996-NoRootScriptDroid"
                        href="https://github.com/wangwang-code/AutoX">GitHub项目 &amp; Issue提交</a></li>
                
            </ul>

        </div>

        <div id="column1" data-id="ui" class="interior">
            <header>
                <h1>Auto.js 文档</h1>
                <div id="gtoc">
                    <p>
                        <a href="index.html" name="toc">索引</a> |
                        <a href="all.html">查看全部</a>
                    </p>
                </div>
                <hr>
            </header>

            <div id="apicontent">
                <h1 id="zips基于p7zip实现的的压缩解压功能">Zips(基于P7zip实现的的压缩解压功能)</h1>
                <h2 id="压缩">压缩</h2>
                <h3 id="result--zipsatype-filepath-dirpath-password">result = zips.A(type, filePath, dirPath, password)
                </h3>
                <ul>
                    <li>filePath {string} 压缩后的文件路径(必须是完整路径)</li>
                    <li>dirPath {string} 要压缩的目录路径(必须是完整路径)</li>
                    <li>type {string} 压缩类型，支持的压缩类型包括:zip 7z bz2 bzip2 tbz2 tbz gz gzip tgz tar wim swm xz txz等。</li>
                    <li>password {string} 压缩密码</li>
                    <li>result {number} 返回值，P7zip默认的退出代码。</li>
                </ul>
                <h3 id="result--zipsatype-filepath-dirpath">result = zips.A(type, filePath, dirPath)</h3>
                <ul>
                    <li>filePath {string} 压缩后的文件路径(必须是完整路径)</li>
                    <li>dirPath {string} 要压缩的目录路径(必须是完整路径)</li>
                    <li>type {string} 压缩类型，支持的压缩类型包括:zip 7z bz2 bzip2 tbz2 tbz gz gzip tgz tar wim swm xz txz等。</li>
                    <li>result {number} 返回值，P7zip默认的退出代码。</li>
                </ul>
                <h3 id="示例">示例</h3>
                <pre><code class="language-javascript">
                    var filePath = &quot;/sdcard/脚本.7z&quot;;
                     var dirPath = &quot;/sdcard/脚本&quot;; 
                     var type = &quot;7z&quot;; 
                     var password = &quot;password&quot; 
                     switch (zips.A(type, filePath, dirPath)) { 
                        case 0: toastLog(&quot;压缩成功！文件已保存为： &quot; + filePath) break; 
                        case 1: toastLog(&quot;压缩结束，存在非致命错误（例如某些文件正在被使用，没有被压缩）&quot;) break; 
                        case 2: toastLog(&quot;致命错误&quot;) break; 
                        case 7: toastLog(&quot;命令行错误&quot;) break; 
                        case 8: toastLog(&quot;没有足够内存&quot;) break; 
                        case 255: toastLog(&quot;用户中止操作&quot;) break; 
                        default: toastLog(&quot;未知错误&quot;) 
                    } </code></pre>
                <h2 id="解压若文件已存在则跳过">解压(若文件已存在则跳过)</h2>
                <h3 id="result--zipsxfilepath-dirpath-password">result = zips.X(filePath, dirPath, password)</h3>
                <ul>
                    <li>filePath {string}
                        要解压的文件路径(必须是完整路径)。支持的解压缩类型包括：zip、7z、bz2、bzip2、tbz2、tbz、gz、gzip、tgz、tar、wim、swm、xz、txz以及rar、chm、iso、msi等众多格式。
                    </li>
                    <li>dirPath {string} 解压后的目录路径(必须是完整路径)</li>
                    <li>password {string} 压缩密码</li>
                    <li>result {number} 返回值，P7zip默认的退出代码。</li>
                </ul>
                <h3 id="result--zipsxfilepath-dirpath">result = zips.X(filePath, dirPath)</h3>
                <ul>
                    <li>filePath {string} 压缩文件路径(必须是完整路径)</li>
                    <li>dirPath {string} 目录路径(必须是完整路径)</li>
                    <li>result {number} 返回值，P7zip默认的退出代码。</li>
                </ul>
                <h3 id="示例-1">示例</h3>
                <pre><code class="language-javascript">
                    var filePath = &quot;/sdcard/脚本.7z&quot;; 
                    var dirPath = &quot;/sdcard/脚本&quot;; 
                    var type = &quot;7z&quot;; 
                    var password = &quot;
                    password&quot; 
                    switch (zips.X(filePath, dirPath, password)) { 
                        case 0: toastLog(&quot;解压缩成功！请到 &quot; + dirPath + &quot; 目录下查看。&quot;) break; 
                        case 1: toastLog(&quot;压缩结束，存在非致命错误（例如某些文件正在被使用，没有被压缩）&quot;) break; 
                        case 2: toastLog(&quot;致命错误&quot;) break; 
                        case 7: toastLog(&quot;命令行错误&quot;) break; 
                        case 8: toastLog(&quot;没有足够内存&quot;) break; 
                        case 255: toastLog(&quot;用户中止操作&quot;) break; 
                        default: toastLog(&quot;未知错误&quot;) 
                    } </code></pre>
                <h2 id="命令行方式压缩解压">命令行方式压缩解压</h2>
                <h3 id="result--zipscmdexeccommands">result = zips.cmdExec(commands)</h3>
                <ul>
                    <li>commands {string} 命令行语句</li>
                    <li>result {number} 返回值，P7zip默认的退出代码。</li>
                </ul>
                <h3 id="示例-2">示例</h3>
                <pre><code class="language-javascript">//压缩文件路径(必须是完整路径) var filePath = &quot;/sdcard/脚本.7z&quot;; //目录路径(必须是完整路径) var dirPath = &quot;/sdcard/脚本&quot;; //自定义命令:7z加密压缩 var password = &quot;password&quot; switch (zips.cmdExec(&quot;7z a -y -ms -t7z -p&quot; + password + &quot; &quot; + filePath + &quot; -r &quot; + dirPath)) { case 0: toastLog(&quot;压缩成功！文件已保存为： &quot; + filePath) case 1: toastLog(&quot;压缩结束，存在非致命错误（例如某些文件正在被使用，没有被压缩）&quot;) case 2: toastLog(&quot;致命错误&quot;) case 7: toastLog(&quot;命令行错误&quot;) case 8: toastLog(&quot;没有足够内存&quot;) case 255: toastLog(&quot;用户中止操作&quot;) default: toastLog(&quot;未知错误&quot;) } </code></pre>
                <h2 id="7zip命令行使用参考">7zip命令行使用参考</h2>
                <h3 id="7z7za-子命令-参数开关-压缩包--文件名称列表文件">7z|7za 子命令 [参数开关] 压缩包 [&lt;文件名称&gt;|&lt;@列表文件...&gt;]</h3>
                <p>在方括号内的表达式(“[” 和 “]”之间的字符)是可选的。在书名号内的表达式(“&lt;” 和 “&gt;”之间的字符)是必须替换的表达式(而且要去掉括号)。 7-Zip 支持和 Windows
                    相类似的通配符： “*”可以使用星号代替零个或多个字符。 “?”可以用问号代替名称中的单个字符。 如果只用 <code>*</code>，7-Zip 会将其视为任何扩展名的全部文件。</p>
                <h4 id="子命令">子命令</h4>
                <ul>
                    <li>a: 添加到压缩文件</li>
                    <li>b: 基准测试</li>
                    <li>d: 从档案中删除文件</li>
                    <li>e: 解压档案文件 (无目录名称)</li>
                    <li>l: 列出压缩文件内容</li>
                    <li>t: 测试压缩文件的完整性</li>
                    <li>u: 更新文件到压缩文件中</li>
                    <li>x: 完整路径下解压文件</li>
                </ul>
                <h4 id="参数开关">参数开关</h4>
                <ul>
                    <li>-ai[r[-|0]]{@列表文件|!通配符}: 包括 压缩文件</li>
                    <li>-ax[r[-|0]]{@列表文件|!通配符}: 排除 压缩文件</li>
                    <li>-bd: 禁用百分比显示功能</li>
                    <li>-i[r[-|0]]{@列表文件|!通配符}: 包括 文件名称</li>
                    <li>-m&lt;参数&gt;，关于它有许多参数及指令，这里仅介绍简单且常用的用法。 -m0=&lt;压缩算法&gt; 默认使用 lzma -md=&lt;字典大小&gt; 设置字典大小,例如
                        -md=32m -mfb=64 number of fast bytes for LZMA = 64 -ms=&lt;on|off&gt; 是否固实压缩 -mx=&lt;1<del>9&gt;
                            压缩级别-m0=压缩算法 默认使用 lzma -mx=数字 1</del>9 压缩级别</li>
                    <li>-o{目录}: 设置输出目录</li>
                    <li>-p{密码}: 设置密码</li>
                    <li>-r[数字]: 递归子目录，使用数字定义递归子目录的深度</li>
                    <li>-scs{UTF-8 | WIN | DOS}: 设置列表文件的编码格式</li>
                    <li>-sfx[{名称}]: 创建 SFX 自解压文件</li>
                    <li>-si[{名称}]: 从stdin(标准输入设备)读取数据</li>
                    <li>-slt: 为 l (列表) 命令显示技术信息</li>
                    <li>-so: 将数据写入stdout(标准输出设备)</li>
                    <li>-ssc[-]: 设置大小写区分模式</li>
                    <li>-ssw: 压缩共享文件</li>
                    <li>-t{类型}: 设置压缩文件格式，(7z, zip, gzip, bzip2 or tar. 7z是默认的格式)</li>
                    <li>-v{大小}[b|k|m|g]: 分卷压缩</li>
                    <li>-u[-][p#][q#][r#][x#][y#][z#][!新建档案_名称]: 更新选项</li>
                    <li>-w[{路径}]: 指定工作目录，路径为空时代表临时文件夹目录</li>
                    <li>-x[r[-|0]]]{@列表文件|!通配符}: 排除 文件名称</li>
                    <li>-y: 所有询问选是</li>
                </ul>
                <h4 id="退出代码">退出代码</h4>
                <ul>
                    <li>0 ：正常，没有错误</li>
                    <li>1 ：警告，没有致命的错误，例如某些文件正在被使用，* 没有被压缩</li>
                    <li>2 ：致命错误</li>
                    <li>7 ：命令行错误</li>
                    <li>8 ：没有足够的内存</li>
                    <li>255 ：用户中止了操作</li>
                </ul>
            </div>
        </div>
        <script src="assets/sh_main.js"></script>
        <script src="assets/sh_javascript.min.js"></script>
        <script>highlight(undefined, undefined, 'pre');</script>
        <!-- __TRACKING__ -->
</body>

</html>